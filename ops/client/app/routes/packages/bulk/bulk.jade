div.m-t-xl.no-margin
  .hbox#applicantNewdiv
    .wrapper-md.bg-white-only
      form.form.form-validation.form-horizontal.wrapper-md(
      name="newPackageForm"
      novalidate
      ng-submit='$ctrl.create(newPackageForm)'
      autocomplete='off'
      )
        .row
          .col-md-12.col-sm-12.col-xs-12
            .col-md-7
              .row
                .col-md-12
              .line.line-dashed.b-b.line-lg.pull-in(style='margin: 5px 0;')
              .text-danger Note: Sign to delivery boy after successful creation.
              br
              br
              .row
                .col-md-12
                  .col-md-4.col-sm-4.col-xs-12
                    h4 E-Commerce Site:
                  .col-md-5.col-sm-5.col-xs-12
                    input.form.form-control(
                    type='text'
                    name="store_id"
                    ng-model='$ctrl.Store.model'
                    placeholder='eg: Flipkart'
                    uib-typeahead='store.name for store in $ctrl.Store.get($viewValue)'
                    typeahead-loading='$ctrl.Store.loadingStore'
                    typeahead-no-results='$ctrl.Store.noResults'
                    typeahead-on-select='$ctrl.Store.select($item)'
                    ng-blur="$ctrl.Store.blur()"
                    typeahead-wait-ms="10"
                    autocomplete="off"
                    autofocus
                    required
                    )
                    span.wrapper-xs.text-xs.text-danger(ng-show='$ctrl.clickUpload && newPackageForm.store_id.$dirty && newPackageForm.store_id.$invalid') Please select Store
                    i.fa.fa-refresh.fa-spin.m-l-xs(ng-show='$ctrl.Store.loadingStore')
                    div(ng-show='$ctrl.Store.noResults')
                      i.fa.fa-remove
                      |  No Results Found
              .line.line-dashed.b-b.line-lg.pull-in(style='margin: 5px 0;')
              br
              .row(ng-repeat='pkg in $ctrl.data')
                .col-md-12
                  .col-md-4.col-sm-4
                    label
                      | Virtual Address Code
                    span.text-danger *
                    input.form.form-control(
                    type='text'
                    name="virtual_address_code"
                    ng-model='pkg.virtual_address_code'
                    placeholder='SHPR20-416'
                    uib-typeahead='customer.virtual_address_code for customer in $ctrl.Customer.get($viewValue)'
                    typeahead-loading='$ctrl.Customer.loadingStore'
                    typeahead-no-results='$ctrl.Customer.noResults'
                    typeahead-on-select='$ctrl.Customer.select($item, $index)'
                    ng-blur="$ctrl.Customer.blur()"
                    typeahead-wait-ms="10"
                    autocomplete="off"
                    autofocus
                    required
                    )
                    span.wrapper-xs.text-xs.text-danger(ng-show='$ctrl.clickUpload && newPackageForm.virtual_address_code.$dirty && newPackageForm.virtual_address_code.$invalid') Please select Store
                    div(ng-show='$ctrl.Customer.noResults')
                      i.fa.fa-remove
                      |  No Results Found
                  .col-md-4.col-sm-4
                    label
                     | Invoice Code
                    span.text-danger *
                    input.form.form-control(
                    type='text'
                    name='invoice_code'
                    placeholder='eg. 43456229865664'
                    ng-model='pkg.invoice_code'
                    required
                    )
                    span.wrapper-xs.text-xs.text-danger(ng-show='$ctrl.clickUpload && chargesForm.invoice_code.$dirty && chargesForm.invoice_code.$invalid') Please enter Invoice code
                  .col-md-1.col-sm-1(ng-if='$index !==0' style='padding-top: 5%;')
                    a(ng-click='$ctrl.removeItem($index)')
                     i.fa.fa-trash.text-danger(style='font-size:25px')

              .row
                .col-md-12
                  br
                  .col-md-4.col-xs-6(style='padding:10px 0 0 15px')
                    a.btn.btn-success(ng-click='$ctrl.addItem()')
                      | Add More Package
                  .col-md-4.col-xs-6
                    h4(ng-bind="$ctrl.error.message" style="color:red;")
                    button.btn.btn-success(type='submit' ng-disabled="$ctrl.submitting")
                      span.fa.fa-forward.m-r-sm
                      span.text-white(ng-if='!$ctrl.submitting') Create
                      span(ng-if='$ctrl.submitting')
                        i.fa.fa-spin.fa-circle-o-notch
                        span.text-white &nbsp;&nbsp;Submitting...
      //br
      //br
      //div
      //  .h1.m-l-md.font-thin.h3
      //    | List Of Packages
      //  br
      //  .row
      //    .col-md-8.no-padder-right
      //      table.table.m-b-none
      //        thead
      //          tr
      //            th.col-xs-2 Id
      //            th.col-xs-5 Reference Code
      //            th.col-xs-5
      //      .col-xs-12(ng-show='$ctrl.invoice.length === 0')
      //        td(colspan="5")
      //          h1.text-center.text-muted No Packages
      //          .text-center: ul.nav.nav-pills.nav-sm.center-pills
      //      .col-xs-12(style='padding: 10px;')
      //        .col-xs-12.no-padder.bg-white.b-a.m-b-sm(ng-repeat='invo in $ctrl.invoice' ng-if=' $ctrl.invoice')
      //          .col-xs-2.wrapper-sm.text-ellipsis.m-t-xs(ng-bind="invo.id")
      //          .col-xs-5.wrapper-sm.text-ellipsis.m-t-xs(ng-bind="invo.invoice_code")
      //          .col-xs-5.wrapper-sm.text-ellipsis.m-t-xs
      //            button.m-l.btn.btn-success
      //              span.fa.fa-forward.m-r-sm
      //              a.text-white(ui-sref='customer.package.update({ id: $ctrl.$stateParams.id, packageId: invo.id })' target="_blank") Continue Updating
    .clearfix
