div.m-t-xl.no-margin
  .hbox#applicantNewdiv
    customer-header.bg-white-only.w-full.b-b(customer="$ctrl.customer" style='position: fixed;z-index: 6;height: 40px;')
    directive-header(
      options="$ctrl"
      buttons="{ buckets: false, view: $ctrl.pkg, viewPackages: true }"
      App="App"
    )
    .m-t-lg
    .wrapper-md.bg-white-only
      div
        .h1.m-l-md.font-thin.h3
          | {{$ctrl.EDIT ? 'Edit' : 'Create'}} Package

      form.form.form-validation.form-horizontal.wrapper-md(
        name="newPackageForm"
        novalidate
        ng-submit='$ctrl.create(newPackageForm)'
        autocomplete='off'
      )
        .row
          .col-md-12.col-sm-12.col-xs-12
            .col-md-7
              .row(ng-if='!$ctrl.EDIT')
                .col-md-12
                  ul.nav
                    li: label.i-checks.i-checks-sm
                      input(
                      type="checkbox"
                      ng-model="$ctrl.quickMode"
                      ng-change="$ctrl.changeMode()"
                      )
                      i
                      .hide
                      | Quick Mode
                      .fa.fa-info-circle.m-l-xs(
                      uib-popover='By selecting this Barcode Scanner will with automatically save'
                      popover-trigger="'mouseenter'"
                      popover-placement='bottom'
                      popover-append-to-body='true'
                      )
                  label.col-xs-12.input-group
                    div Popular Stores :
                    .pull-left.text-info-dker.b-a.b-info.m-t-xs.m-r-xs.pointer(
                    ng-repeat='store in $ctrl.popularStores'
                    ng-click='$ctrl.data.store_id = store.id; $ctrl.Store.model = store.name;$ctrl.focus("invoice_code");'
                    )
                      span.wrapper-xs(ng-bind='store.name')
              .line.line-dashed.b-b.line-lg.pull-in(style='margin: 5px 0;' ng-if='!$ctrl.EDIT')
              .text-danger(ng-if='!$ctrl.EDIT') Note: Sign to delivery boy after successful creation.
              .row
                .col-md-12
                  .col-md-6.col-sm-5.col-xs-12.no-padder
                    label.col-xs-12.input-group
                      | Store
                      span.text-danger *
                      input.form.form-control(
                      type='text'
                      name="store_id"
                      ng-model='$ctrl.Store.model'
                      placeholder='eg: Flipkart'
                      uib-typeahead='store.name for store in $ctrl.Store.get($viewValue)'
                      typeahead-loading='$ctrl.Store.loadingStore'
                      typeahead-no-results='$ctrl.Store.noResults'
                      typeahead-on-select='$ctrl.Store.select($item)'
                      ng-blur="$ctrl.Store.blur()"
                      typeahead-wait-ms="10"
                      autocomplete="off"
                      autofocus
                      required
                      )
                      span.wrapper-xs.text-xs.text-danger(ng-show='$ctrl.clickUpload && newPackageForm.store_id.$dirty && newPackageForm.store_id.$invalid') Please select Store
                      i.fa.fa-refresh.fa-spin.m-l-xs(ng-show='$ctrl.Store.loadingStore')
                      div(ng-show='$ctrl.Store.noResults')
                        i.fa.fa-remove
                        |  No Results Found

              .line.line-dashed.b-b.line-lg.pull-in(style='margin: 5px 0;')
              .row
                .col-md-12
                  .col-md-6.col-sm-5.col-xs-12.no-padder
                    label.col-xs-12.input-group
                      | Reference Code
                      span.text-danger *
                      input.form.form-control(
                      type='text'
                      name='invoice_code'
                      placeholder='eg. 404-5608143-1808328'
                      ng-model='$ctrl.data.invoice_code'
                      ng-blur='$ctrl.quickMode ? $ctrl.create(newPackageForm): ""'
                      required
                      )
                      span.wrapper-xs.text-xs.text-danger(ng-show='$ctrl.clickUpload && newPackageForm.invoice_code.$dirty && newPackageForm.invoice_code.$invalid') Please enter Reference Code
                  .col-md-6.col-sm-5.col-xs-12(ng-if='$ctrl.EDIT')
                    label.col-xs-12.input-group
                      | Rack Number
                      span.text-danger *
                      input.form.form-control(
                      type='number'
                      name='rack_number'
                      placeholder='eg. 7'
                      ng-model='$ctrl.data.rack_number'
                      required
                      )
                      span.wrapper-xs.text-xs.text-danger(ng-show='$ctrl.clickUpload && newPackageForm.rack_number.$dirty && newPackageForm.rack_number.$invalid') Please enter Rack Number
              .line.line-dashed.b-b.line-lg.pull-in(style='margin: 5px 0;' ng-if='$ctrl.EDIT')
              .row(ng-if='$ctrl.EDIT')
                .col-md-12
                  .col-md-6.col-sm-5.col-xs-12.no-padder
                    label.col-xs-12.input-group
                      | Price
                      span
                      input.form.form-control(
                      type='number'
                      name='price_amount'
                      placeholder='eg. 300'
                      ng-model='$ctrl.data.price_amount'
                      )
                      span.wrapper-xs.text-xs.text-danger(ng-show='$ctrl.clickUpload && newPackageForm.price_amount.$dirty && newPackageForm.price_amount.$invalid') Please enter Price
                  .col-md-6.col-sm-5.col-xs-12
                    label.col-xs-12.input-group
                      | Weight
                      span.text-danger *
                      input.form.form-control(
                      type='number'
                      name='weight'
                      placeholder='eg. 2'
                      ng-model='$ctrl.data.weight'
                      required
                      )
                      span.wrapper-xs.text-xs.text-danger(ng-show='$ctrl.clickUpload && newPackageForm.weight.$dirty && newPackageForm.weight.$invalid') Please enter Weight

              .line.line-dashed.b-b.line-lg.pull-in(style='margin: 5px 0;' ng-if='$ctrl.EDIT')
              .row(ng-if='$ctrl.EDIT')
                .col-md-12
                  .col-md-4.col-sm-5.col-xs-12.no-padder
                    label.col-xs-12.input-group
                      | Consignment Type
                    .col-xs-12: ul.nav
                      li.inline: label.i-checks.i-checks-sm
                        input(
                        type="checkbox"
                        ng-model="$ctrl.data.is_doc"
                        )
                        i
                        .hide
                        | Document
                        .fa.fa-info-circle.m-l-xs(
                        uib-popover='Check if the package is Document'
                        popover-trigger="'mouseenter'"
                        popover-placement='bottom'
                        popover-append-to-body='true'
                        )
                  .col-md-4.col-sm-5.col-xs-12.no-padder
                    label.col-xs-12.input-group
                      | Content Type
                    .col-xs-12: ul.nav
                      li.inline: label.i-checks.i-checks-sm
                        input(
                        type="radio"
                        ng-model="$ctrl.data.content_type"
                        value=1
                        )
                        i
                        .hide
                        | Normal
                        .fa.fa-info-circle.m-l-xs(
                        uib-popover='Other than Special'
                        popover-trigger="'mouseenter'"
                        popover-placement='bottom'
                        popover-append-to-body='true'
                        )
                      li.inline.m-l: label.i-checks.i-checks-sm
                        input(
                        type="radio"
                        ng-model="$ctrl.data.content_type"
                        value=2
                        )
                        i
                        .hide
                        | Special
                        .fa.fa-info-circle.m-l-xs(
                        uib-popover='Liquid, Cream, Home Food'
                        popover-trigger="'mouseenter'"
                        popover-placement='bottom'
                        popover-append-to-body='true'
                        )
                  .col-md-4.col-sm-5.col-xs-12
                    label.col-xs-12.input-group
                      | Restricted Item
                      span.text-danger *
                      .fa.fa-info-circle.m-l-xs(
                      uib-popover=''
                      popover-trigger="'mouseenter'"
                      popover-placement='top'
                      popover-append-to-body='true'
                      )
                      span.wrapper-xs.text-xs.text-danger(ng-show='$ctrl.clickUpload && newPackageForm.is_restricted_item.$dirty && newPackageForm.is_restricted_item.$invalid') Please Select Option
                    .col-xs-12: ul.nav
                      li.inline: label.i-checks.i-checks-sm
                        input(
                        type="radio"
                        ng-model="$ctrl.data.is_restricted_item"
                        name='is_restricted_item'
                        value=0
                        required
                        )
                        i
                        .hide
                        | No
                      li.inline.m-l: label.i-checks.i-checks-sm
                        input(
                        type="radio"
                        ng-model="$ctrl.data.is_restricted_item"
                        name='is_restricted_item'
                        value=1
                        required
                        )
                        i
                        .hide
                        | Yes
              .row
                .col-md-8
                  .text-danger.font-bold(ng-if="newPackageForm.file.$error.maxSize") Please select file less than 5MB
                .col-md-12.col-xs-12
                  h4(ng-bind="$ctrl.error.message" style="color:red;")
                  button.btn.btn-success(type='submit' ng-disabled="$ctrl.submitting || (!$ctrl.submitting && !newPackageForm.$dirty)")
                    span.fa.fa-forward.m-r-sm
                    span.text-white(ng-if='!$ctrl.submitting') {{$ctrl.EDIT ? '' : 'Quick ' }} Save
                    span(ng-if='$ctrl.submitting')
                      i.fa.fa-spin.fa-circle-o-notch
                      span.text-white &nbsp;&nbsp;Submitting...
                  button.m-l.btn.btn-success(ng-if="!$ctrl.EDIT && $ctrl.pkg.id")
                    span.fa.fa-forward.m-r-sm
                    span.text-white(ui-sref='customer.package.update({ id: $ctrl.$stateParams.id, packageId: $ctrl.pkg.id })') Continue Updating
                  a.btn.btn.success(ng-if='!$ctrl.EDIT || !$ctrl.data.Store' ng-click="$ctrl.open()") Create Store
                .col-md-12.col-xs-12(ng-if='!$ctrl.EDIT')
                  h4 Package Id - {{$ctrl.pkg.id}}

    .clearfix

//div(ng-show='$ctrl.submitting')
//  span(ng-include="'app/routes/jobs/cv-uploading/cv-uploading.html'")

