extends ../layout
block head
  title #{title}
  meta(name='description', content= '#{meta_description}')
  meta(name="keywords" content="#{meta_keywords}")

block content
  .body
    section.page_head
      .pagebanner
        img(src="#{s3BaseUrl}/img/banner.jpg", width='100%')
        .banner-cap
          h2 PRICING
          h2
            | THAT
            span.text-orange NEVER
            |  BUSTS YOUR WALLET
    section.white-band
      h2 Want something from India?
      h3 SHOP ONLINE WITH A SHOPPRE VIRTUAL ADDRESS AND PERSONAL LOCKER NUMBER!
      p
        | Tell us where you want to send your parcel and get
        span.text-orange Upfront Pricing
        | ; get your
        |             parcel in just 2-5 Days!
      p
        | Save upto 60-80% on Shipping Costs, through
        span.text-orange Shoppre’s Cost-saving Services!
    section.shipping-calculator
      .container
        .head
          h2 Get Shipping Rates
          span
            | The chargeable weight is always the greater of the two :
            br
            |             The actual or the volumetric weight.
          small
            a.popup-modal(href='#vol_model') Learn how to calculate the Volumetric Weight
          #vol_model.white-popup-block.mfp-hide
            h3 How To Calculate Volumetric Weight
            img(src="#{s3BaseUrl}/img/vol_calc.png")
            a.btn.btn-close.popup-modal-dismiss(href='#')
              i.fa.fa-times
        .col-md-7
          .calculator.block
            h3.text-red INTERNATIONAL SHIPPING CALCULATOR
            h4 (From your Shoppre Locker in Bengaluru to your doorstep Abroad)
            span#calc_error
              | Sorry! No delivery options available in requested country. Please contact our support team for assistance.
            form#shipping.calc-form
              .form-group
                label.col-sm-12 Where do you want to send your package?
                .col-sm-12
                  select.form-control.select2(name='country')
                    option(value='') Select Country
                     each country in countries
                       option(value='#{country.iso2}') #{country.name}
                .clearfix
              .form-group
                label.col-sm-5.control-label(style='top: 8px;') What is your package type?
                .col-sm-7
                  .radio
                    label.checkbox-inline
                      input(type='radio', name='type', value='nondoc', checked='')
                      | Non Document
                  .radio
                    label.checkbox-inline
                      input(type='radio', name='type', value='doc')
                      | Document
                .clearfix
              .form-group
                label.col-sm-12.control-label How much does your package weight?
                .col-sm-6
                  input.form-control(type='text', value='1', name='weight', placeholder='Enter Weight')
                .col-sm-6
                  .radio
                    label.checkbox-inline
                      input(type='radio', name='unit', value='kg', checked='')
                      | Kilograms
                  .radio
                    label.checkbox-inline
                      input(type='radio', name='unit', value='lbs')
                      | Pounds
                .clearfix
              .form-group
                label.col-sm-8.control-label(style='top: 8px;')
                  | What are the dimensions of your
                  | package?
                .col-sm-4
                  .radio
                    label.checkbox-inline
                      input(type='radio', name='scale', value='cm', checked='')
                      | cm
                  .radio
                    label.checkbox-inline
                      input(type='radio', name='scale', value='in')
                      | in
                .clearfix
              .form-group.smallboxs
                .col-sm-3
                  input.form-control(type='text', name='length')
                  strong Length
                .col-sm-3
                  input.form-control(type='text', name='width')
                  strong Width
                .col-sm-3
                  input.form-control(type='text', name='height')
                  strong Height
                .clearfix
              .clearfix
              .col-sm-6.col-sm-offset-3
                button.btn.btn-block.btn-shoppre(type='submit')
                  font(size='4px')
                    strong ESTIMATE
              .clearfix
            #ship_result.calc-result
              h4.text-red ESTIMATED SHIPPING COST*
              p.info
                | Best carrier will be automatically chosen according to your country and weight
                | of shipment. We use trusted courier services like DHL, FedEx and DTDC.
              .result.table-responsive
                table#prices.table.table-bordered
              ul.points
                li
                  span.text-red *
                  |  The chargeable weight is always the greater of the two:
                  |                                 Volumetric or the Actual weight.
                li
                  span.text-red *
                  |  The rates displayed are INCLUSIVE of the fuel surcharge
                  |                                 and taxes within India.
                li
                  span.text-red *
                  |  You may need to pay duties or tax when your shipment
                  |                                 arrives, as per the import law of the receiving country.
                li
                  span.text-red *
                  |  Excludes oversized and palletized shipments, and special
                  |                                 products (liquids, homemade food, etc.)
                li
                  span.text-red **
                  |  After dispatch from Shoppre facility. Does not apply to
                  |                                 ship requests made after 3pm IST on Saturdays, or on holidays. Shipments that may
                  |                                 require additional time include those containing items under review or hazardous
                  |                                 materials, oversized packages or where additional export documentation is required.
                li
                  span.text-red **
                  |  For electronics items , INR 500 will be charged additionally.
            #calc_load
          .parcelsample
            h5 Centimeter/Inch Conversion
            p
              | 1 in = 2.54 cm
              span (1 cm = 0.3937 in)
            h5 Kilogram/Pound Conversion
            p
              | 1 lbs = 0.4536 Kg
              span (1 Kg = 2.2046 lbs)
            h5 Parcel Sample :
            img(src="#{s3BaseUrl}/img/parcelsample.png")
        .col-md-5
          .getquote.block
            h3 DOMESTIC SHIPMENT
            h4 (From your Shoppre Locker in Bengaluru to any city in India)
            form#form_quote.quote-form.calc-form(method='post')
              .form-group
                label.col-sm-12 Where do you want to send your package?
                .col-sm-12
                  select.form-control(name='state')
                    option(value='') Select State
                    each state in states
                      option(value='#{state.state}') #{state.name}
                .clearfix
              .form-group
                .col-sm-6
                  label City
                  input.form-control(type='text', name='city', placeholder='City')
                .col-sm-6
                  label Pin Code
                  input.form-control(type='text', name='pin', placeholder='PIN')
                .clearfix
              .form-group
                label.col-sm-4.control-label What is your package type?
                .col-sm-8
                  .radio
                    label.checkbox-inline
                      input(type='radio', name='type', value='nondoc', checked='')
                      | Non Document
                  .radio
                    label.checkbox-inline
                      input(type='radio', name='type', value='doc')
                      | Document
                .clearfix
              .form-group
                label.col-sm-12.control-label How much does your package weigh?
                .col-sm-5
                  input.form-control(type='text', name='weight', placeholder='Enter Weight')
                .col-sm-7
                  .radio
                    label.checkbox-inline
                      input(type='radio', name='unit', value='kg', checked='')
                      | Kilograms
                  .radio
                    label.checkbox-inline
                      input(type='radio', name='unit', value='lbs')
                      | Pounds
              .form-group
                label.col-sm-8.control-label(style='top: 8px;')
                  | What are the dimensions of your
                  | package?
                .col-sm-4
                  .radio
                    label.checkbox-inline
                      input(type='radio', name='scale', value='cm', checked='')
                      | cm
                  .radio
                    label.checkbox-inline
                      input(type='radio', name='scale', value='in')
                      | in
                .clearfix
              .form-group.smallboxs
                .col-sm-4
                  input.form-control(type='text', name='length')
                  strong Length
                .col-sm-4
                  input.form-control(type='text', name='width')
                  strong Width
                .col-sm-4
                  input.form-control(type='text', name='height')
                  strong Height
                .clearfix
              .form-group(style='margin-top: 8px;')
                label.col-sm-12.control-label Your Email Address
                .col-sm-12
                  input.form-control(type='text', name='email', placeholder='Email Address')
              .form-group(style='margin-top: 8px;')
                label.col-sm-12.control-label Your Mobile Number
                .col-sm-12
                  input.form-control(type='text', name='mobile', placeholder='Mobile Number')
              .form-group
                .col-sm-12
                  button#quote_submit.btn.btn-block.btn-shoppre(type='submit')
                    | Get A Quote
                  #quote_result
                    | Your enquiry has been submited! Our team will contact you soon.
                  #quote_error
                    | Sorry! We can't process your request right now. Please try again later.
                .clearfix
            .clearfix
            #quote_load.ajaxloader
          .block.pickup
            .text-center
              h3 SCHEDULE A PICK-UP
              p Where do you want to send package?
            ul
              h4 DOMESTIC SHIPMENT
              li From any city in India to your Shoppre locker in Bengaluru
              li From any city in India to any other city in India
            ul
              h4 INTERNATIONAL SHIPMENT
              li From Bengaluru, directly to your doorstep abroad
              li From any city in India, directly to your doostep abroad
            a.btn.btn-block.btn-shoppre(href="#{URLS_MYACCOUNT}/schedulePickup")
              | FILL THE FORM TO HEAR BACK FROM US
        .clearfix

    section.pricing_plans
      .container
        .col-sm-10.col-sm-offset-1
          .title
            h1
              span.text-red No
              |  Membership Plans
            h2.text-orange START SAVING UP TO 60-80% ON INTERNATIONAL SHIPPING RATES TODAY!
            p
              | All Shoppre members receive our world-class customer service and express door-to-door delivery
              | options.
            strong Pay ONLY when you choose to use any of our services!
          .table-responsive
            table.table.table-bordered
              tr
                th Services
                th.text-center Cost
              tr
                td
                  | Receive your own Indian Shipping Address & Personal Locker
                  a.tooltipkey(href='#', title='Receive your own Locker space in\
                  Bengaluru as soon as you sign up with Shoppre! Use the Shipping Address\
                  given to you to shop from ANY Indian Online Store.')
                    i.fa.fa-question-circle-o
                td.cell-2 Free
              tr
                td
                  | Receive Parcels
                  a.tooltipkey(href='#', title='All your purchases from various Indian Stores\
                  arrive to your Shoppre Address. It is absolutely free for\
                  Shoppre to login all your parcels into your locker and to\
                  your account.')
                    i.fa.fa-question-circle-o
                td.cell-2 Free
              tr
                td
                  | Shoppre Shipping Discount
                  a.tooltipkey(href='#', title='Shoppre’s long term partnership with\
                  trusted courier companies like DHL, FedEx, DTDC\
                  and more, gives us amazing shipping rates thanks\
                  to our bulk shipments every month. This means more\
                  savings for you as our customer! (Extra Shipping Discounts\
                  apply if you choose Shoppre as your Shipping Partner).')
                    i.fa.fa-question-circle-o
                td.cell-2 Free
              tr
                td
                  | Service Tax in India
                  a.tooltipkey(href='#', title='You do not have to pay any extra Sales Tax in India.\
                  Our rates are inclusive of fuel surcharge and tax in India.\
                  However, you might have to check the import rules of your country\
                  to know if you have to pay any cash amount to your carrier at the\
                  time of receving your parcel.')
                    i.fa.fa-question-circle-o
                td.cell-2 No Extra Service Tax
              tr
                td
                  | Package Consolidation
                  a.tooltipkey(href='#', title='Shoppre’s packing experts will\
                  combine multiple packages into one, for maximum shipping cost\
                  savings. This way, you have to pay for the first half kg rate\
                  (which is the most expensive rate) only once. At times, some of\
                  your package that arrives at our facility might contain more than\
                  1 item. While preparing your final shipment, we charge only per\
                  package, and not per item. ')
                    i.fa.fa-question-circle-o
                td.cell-2
                  | INR 100 per extra package
                  span (not per extra item)
              tr
                td
                  | Package Repacking
                  a.tooltipkey(href='#', title='We usually repack all the necessary\
                  items (items which arrive at our facility in\
                  big boxes) in order to reduce the dimensional weight\
                  for FREE of cost (except Shoe Boxes which you will have\
                  to choose separately to discard).')
                    i.fa.fa-question-circle-o
                td.cell-2 Free
              tr
                td
                  | Package Storage
                  a.tooltipkey(href='#', title='Purchases are securely housed in our facility,\
                  allowing time for multiple package delivery and maximum\
                  consolidation savings. ')
                    i.fa.fa-question-circle-o
                td.cell-2
                  | Free upto 20 days
                  span (INR 100 for every extra day)
              tr
                td
                  | Package Photo Service
                  a.tooltipkey(href='#', title='Basic Photos: We take upto 5 Basic photographs of all\
                  your items. Additional Photos: You can also request upto 10\
                  Additional Photos (incase you want some more details or if\
                  you want to inspect if the items are not damaged).Scan\
                  Documents: We can scan your documents (2 kgs and below)\
                  for a cost of INR 40/page (minimum INR 100).')
                    i.fa.fa-question-circle-o
                td.cell-2
                  | INR 50 (Basic Photos)
                  br
                  span INR 500 (Additional Photos)
              tr
                td
                  | Personal Shopper Service
                  a.tooltipkey(href='#', title='Shoppre’s Personal Shopper Team will purchase the\
                  items on your behalf incase some Indian Websites does not\
                  accept International Card Payment, or requires you to register\
                  with an active Indian Mobile number. Personal Shopper orders\
                  with more than 15 items per online seller will incur an INR\
                  50 per item cost for every item over 15. ')
                    i.fa.fa-question-circle-o
                td.cell-2
                  | 7% of the item value
                  span (Minimum INR 200)
              tr
                td
                  | Special Package Clearance Fee
                  a.tooltipkey(href='#', title='Any Package which requires Special Handling\
                  will be prompted via email to you. All liquids/\
                  semi-liquids/ homemade food/ medicines/ ayurvedic\
                  products/ dangerous goods like nail polish,  etc.\
                  will incur a customs clearance charge.The costs might\
                  not be limited to the given cost for all cases (for\
                  eg, in cases of shipping heavy weight objects or\
                  heavy volume dangerous goods such as paints, etc.) -\
                  costs could vary, and we shall inform you via\
                  email. ')
                    i.fa.fa-question-circle-o
                td.cell-2
                  | 0.5 kg to 5 kg  = INR 1150/Shipment
                  br
                  | 5 kg to 10 kg   = INR 1650/Shipment
                  br
                  | 10 kg to 15 kg  = INR 2750/Shipment
                  br
                  | Above 15kg 	    = INR 3150/Shipment
              tr
                td
                  | Pick-up Service
                  a.tooltipkey(href='#', title='You can request Shoppre to pick-up your items\
                  from any city in India!')
                    i.fa.fa-question-circle-o
                td.cell-2
                  span From Bangalore:
                  |INR 40/kg, Min INR 100
                  span From any other city in India:
                  |INR 50/kg, Min INR 200
              tr
                td
                  | Receive Mail (post)
                  a.tooltipkey(href='#', title='Shoppre charges an additional amount of INR 100 for\
                  receiving a package which is considered as a document\
                  (2 kg and below). Shipping charges of Documents slightly vary\
                  from that of Non-documents.As of now the same is FREE of cost. ')
                    i.fa.fa-question-circle-o
                td.cell-2
                  strike INR 100
                  |  Free
              tr
                td
                  | Real-time Shipment Tracking
                  a.tooltipkey(href='#', title='You will receive carrier tracking information\
                  as soon as your package leaves the Shoppre facility.')
                    i.fa.fa-question-circle-o
                td.cell-2 Free
              tr
                td
                  | Package Return Services
                  a.tooltipkey(href='#', title='Once the item arrives at our facility, if you feel\
                  the item is not as per your expectation or is damaged,\
                  it can be exchanged/returned to the seller (as per the\
                  seller exchange/return policy). You will be responsible for\
                  all return shipping fees as well (if needed). If it has to\
                  be couriered to sender’s destination by Shoppre, charges\
                  as per domestic shipping rates will be considered.')
                    i.fa.fa-question-circle-o
                td.cell-2 INR 400
              tr
                td
                  | Shipping Preferences
                  a.tooltipkey(href='#', title='Shoppre gives you various shipping preference\
                  options to choose from!')
                    i.fa.fa-question-circle-o
                td.cell-2
                  a(href="#{URLS_MYACCOUNT}/shipping-preferences")
                    | Click
                    | here to know your options
              tr
                td(style='border-color: #ffffff;border-right-color: #87bc00;')
                td(style='padding: 0 !important;border-color: #87bc00;')
                  a.btn.btn-block(href="#{URLS_MYACCOUNT}/register") Sign up for free
    section.price_cguide
      .container
        h2 Country Guides
        p
          | Each country has its own customs laws and the duties for diifferent types of goods and values are set
          | locally.All our international courier partners must adhere to local customs legislation and will pay
          | duties on the receiver’s behalf to clear shipments on aarival.The goods will be released to you upon the
          | full repayment of any duties and taxes that were paid on your behalf.
        h4 Find helpful information specific to your country, including :
        ul
          li Shipping costs
          li Duties and taxes
          li Restricted & prohibited items
          li Current exchange rates
          li Typical transit times
          li Country alerts
        a.btn.btn-shoppre(href='javascript:void(0)') Learn More

    section.testimonails
      .container
        .row
          .col-sm-4
            .square-box
              h3 What Our
              h2
                | Members
                span.orange Say!
          .col-sm-8
            .testimons.owl-carousel
              each review in reviews
                .item
                  .col-sm-3.text-center
                    //if !review.Country.flag
                    //   img.img-circle(src="#{s3BaseUrl}/img/flags/#{review.Country.flag}")
                  .col-sm-9
                    p #{review.description}
                    span.name #{review.name}
                    span #{review.Country}
                  .clearfix
            .text-center
              a.btn.orange(href="/reviews") View All Shoppre Reviews

    section.signup_free
      .container
        .row
          .col-md-12
            h3
              | So what are you waiting for? Shopp
              span.red re
              | ! Open your big box of happiness
              |                         today!
            p All you need is a membership to get your Indian Shipping Address immediately!
            a.btn.btn-shoppre(href="#{s3BaseUrl}/register")
              | sign up for
              | free


    block js_script
    script(src="#{s3BaseUrl}/js/jquery.min.js")
    script(src="#{s3BaseUrl}/js/jquery.magnific-popup.min.js")
    script(src="#{s3BaseUrl}/js/select2.min.js")
    script(src="#{s3BaseUrl}/js/owl.carousel.min.js")
    script(src="#{s3BaseUrl}/js/validate.min.js")

    script(type='text/javascript').
      /* Magnific Popup */
      $(document).ready(function () {
        $(function () {
          $('.popup-modal').magnificPopup({
            type: 'inline',
            preloader: false,
            modal: true
          });
          $(document).on('click', '.popup-modal-dismiss', function (e) {
            e.preventDefault();
            $.magnificPopup.close();
          });
        });
      });
    // Select2

    script(type='text/javascript').
      $(document).ready(function () {
        $(".select2").select2();
      });
    // Owl Carousel
    script(type='text/javascript').
      $(document).ready(function () {
        $('.testimons').owlCarousel({
          loop: true,
          margin: 10,
          responsiveClass: true,
          navText: '',
          autoplay: true,
          autoplayTimeout: 2500,
          responsive: {
            0: {
              items: 1,
              nav: true
            },
            600: {
              items: 1,
              nav: true
            },
            1000: {
              items: 1,
              nav: true,
              loop: true
            }
          }
        });
      });

    script(type='text/javascript').
      $(document).ready(function () {
        $("#shipping").validate({
          rules:
            {
              country: {required: true},
              weight: {required: true},
              unit: {required: true}
            },
          messages:
            {
              country: {required: "Please select country"},
              weight: {required: "Please enter weight to calculate."},
              unit: {required: "Please select unit of weight."}
            },
          submitHandler: function (form) {
            var country = $("select[name='country']").val();
            var weight = $("input[name='weight']").val();
            var unit = $("input[name='unit']:checked").val();
            var type = $("input[name='type']:checked").val();
            var box_scale = $("input[name='scale']:checked").val();
            var length = $("input[name='length']").val();
            var width = $("input[name='width']").val();
            var height = $("input[name='height']").val();
            var token = $('input[name=_token]').val();
            $("#calc_load").show();
            $('#calc_error').hide();
            $('#ship_result').hide();
            jQuery.ajax({
              url: '/api/pricing/shipCalculate',
              type: "GET",
              data: {
                _token: token,
                country: country,
                weight: weight,
                unit: unit,
                type: type,
                length: length,
                width: width,
                height: height,
                scale: box_scale
              },
              success: function (res) {
                debugger;
                $("#calc_load").hide();
                if (res.error == "1") {
                  $('#calc_error').css('display', 'block');
                } else {
                  var html = "";
                  // res.prices.map(function(price) {
                  // res.prices(function(price) {
                    html += ' <tr> ' +
                      // '<td>' + price.partner_name+ '</td>' +
                      ' <td class="bg-white">' +
                      ' <span>' + res.prices.time+ '</span> Business Days' +
                      ' <span class="text-red">**</span>' +
                      ' </td>' +
                      '<td>' +
                      '<i class="fa fa-rupee"></i> <span>' + ((100-res.prices.discountPercent)/100) * res.prices.amount+ '</span>' +
                      ' </td>' +
                      ' <td>' +
                      '<span class="striked">' +
                      '<i class="fa fa-rupee"></i>' +
                      ' <span>' +  res.prices.amount+ '</span>' +
                      '</span>' +
                      ' </td>' +
                      '<td class="discount">' +
                      ' <span>' + res.prices.discountPercent + '</span>% OFF' +
                      '</td>' +
                      ' </tr>';
                    $('#prices').html(html);
                    $('#ship_result').slideDown();
                  // });
                }
              }
            });
            return false;
          }
        });
        $("#form_quote").validate({
          rules:
            {
              state: {required: true},
              city: {required: true},
              pin: {required: true},
              type: {required: true},
              weight: {required: true},
              unit: {required: true},
              email: {required: true, email: true},
              mobile: {required: true}
            },
          messages:
            {
              state: {required: "Please select state"},
              city: {required: "Please enter city"},
              pin: {required: "Please enter PIN"},
              weight: {required: "Enter package weight."},
              email: {required: "Enter your email address to contact."},
              mobile: { required: "Enter your mobile number to contact."}
            },
          submitHandler: function (form) {
            $("#quote_load").show();
            jQuery.ajax({
              url: '/qoute/submit',
              type: "GET",
              data: $("#form_quote").serialize(),
              success: function (data) {
                $('#form_quote')[0].reset();
                $("#quote_load").hide();
                $("#quote_submit").hide();
                $("#quote_result").show();
              },
              error: function (xhr, ajaxOptions, thrownError) {
                $('#form_quote')[0].reset();
                $("#quote_load").hide();
                $("#quote_error").show();
                $("#quote_submit").hide();
                /*console.log(xhr.responseText);*/
              }
            });
            return false;
          }
        });
      });
