const { engine, timestamps, keys } = require('../helper.js');

module.exports = {
  up: (queryInterface, DataTypes) => queryInterface.createTable('shipments', Object.assign({
    id: {
      allowNull: false,
      autoIncrement: true,
      primaryKey: true,
      type: DataTypes.INTEGER,
    },
    order_code: DataTypes.STRING,
    customer_name: DataTypes.STRING,
    address: DataTypes.STRING,
    phone: DataTypes.STRING,
    count: DataTypes.INTEGER,
    weight: DataTypes.DECIMAL(8, 2),
    value: DataTypes.DECIMAL(8, 2),
    sub_total: DataTypes.DECIMAL(8, 2),
    discount: DataTypes.DECIMAL(8, 2),
    package_level_charges: DataTypes.DECIMAL(8, 2),
    estimated: DataTypes.DECIMAL(8, 2),
    wallet: DataTypes.DECIMAL(8, 2),
    coupon: DataTypes.DECIMAL(8, 2),
    loyalty: DataTypes.DECIMAL(8, 2),
    payment_gateway_fee: DataTypes.DECIMAL(8, 2),
    final_amount: DataTypes.DECIMAL(8, 2),
    is_axis_banned_item: {
      type: DataTypes.ENUM,
      values: ['0', '1'],
    },
    courier_charge: DataTypes.DECIMAL(8, 2),
    payment_status: DataTypes.STRING,
    shipping_status: DataTypes.STRING,
    admin_info: DataTypes.STRING,
    admin_read: {
      type: DataTypes.ENUM,
      values: ['yes', 'no'],
    },
    is_missed: DataTypes.INTEGER,
    promo_code: DataTypes.STRING,
    pick_up_charge: DataTypes.INTEGER,
    shipment_type: DataTypes.STRING,
    number_of_packages: DataTypes.INTEGER,
    weight_by_shipping_partner: DataTypes.DOUBLE,
    value_by_shipping_partner: DataTypes.DOUBLE,
    tracking_code: DataTypes.STRING,
    country_id: keys('stores'),
    shipping_partner_id: keys('shipping_partners'),
    payment_gateway_id: keys('payment_gateways'),
    created_by: keys('users'),
    customer_id: keys('users'),
  }, timestamps(3, DataTypes)), engine),
  down(queryInterface) {
    return queryInterface.dropTable('shipments');
  },
};
